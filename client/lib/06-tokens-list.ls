@tokens-list=-> new Array do
	* decimals:18 id:\LEND address:\0x80fB784B7eD66730e8b1DBd9820aFD29931aab03 name:'LEND' link:'https://ethlend.io' description:'Fully decentralized peer to peer lending on the Ethereum Blockchain.'
	
	* decimals:18 id:\EOS  address:\0x86fa049857e0209aa7d9e616f7eb3b3b78ecfdb0 name:'EOS' link:'https://eos.io/' description:'Infrastructure for Decentralized Applications' 
	* decimals:18 id:\QTUM address:\0x9a642d6b3368ddc662CA244bAdf32cDA716005BC name:'Qtum' link:'https://qtum.org/' description:'Build Decentralized Applications that Simply Work Executable on mobile devices, compatible with major existing blockchain ecosystem' 
	* decimals:18 id:\OMG  address:\0xd26114cd6EE289AccF82350c8d8487fedB8A0C07 name:'OmiseGO' link:'https://omisego.network/' description:'OmiseGO is a public Ethereum-based financial technology for use in mainstream digital wallets, that enables real-time, peer-to-peer value exchange and payment services agnostically across jurisdictions and organizational silos, and across both fiat money and decentralized currencies.' 
	* decimals:0  id:\MKR  address:\0xc66ea802717bfb9833400264dd12c2bceaa34a6d name:'MKR - Maker' link:'https://makerdao.com/' description:'Maker is a Decentralized Autonomous Organization that creates and insures the dai stablecoin on the Ethereum blockchain' 
	* decimals:18 id:\REP  address:\0xe94327d07fc17907b4db788e5adf2ed424addff6 name:'REP - Augur' link:'https://www.augur.net/' description:'Augur combines the magic of prediction markets with the power of a decentralized network to create a stunningly accurate forecasting tool' 
	
	* decimals:18 id:\GNT  address:\0xa74476443119A942dE498590Fe1f2454d7D4aC0d name:'GOLEM (GNT)'  link:'https://golem.network/' description:'Golem is a global, open sourced, decentralized supercomputer that anyone can access. It\'s made up of the combined power of user\'s machines, from personal laptops to entire datacenters.' 
	* decimals:18 id:\PAY  address:\0xB97048628DB6B661D4C2aA833e95Dbe1A905B280 name:'TenXPay' link:'https://www.tenx.tech/' description:'TenX connects your blockchain assets for everyday use. TenX’s debit card and banking licence will allow us to be a hub for the blockchain ecosystem to connect for real-world use cases.' 
	* decimals:18 id:\SNT  address:\0x744d70fdbe2ba4cf95131626614a1763df805b9e name:'SNT - Status Network' link:'https://status.im/' description:'Status is an open source messaging platform and mobile browser to interact with decentralized applications that run on the Ethereum Network.' 
	* decimals:18 id:\KNC  address:\0xdd974d5c2e2928dea5f71b9825b8b646686bd200 name:'Kyber Network Crystal (KNC)' link:'https://kyber.network/' description:'KyberNetwork is a new system which allows the exchange and conversion of digital assets.' 
	* decimals:0  id:\DGD  address:\0xe0b7927c4af23765cb51314a0e0521a9645f0e2a name:'DGD - Digix Global' link:'https://digix.io/' description:'Every asset represents a unique bullion bar sitting in designated securitised custodial vaults.' 
	
	* decimals:18 id:\BAT  address:\0x0d8775f648430679a709e98d2b0cb6250d2887ef name:'Bat - Basic Attention Token' link:'https://basicattentiontoken.org/' description:'The Basic Attention Token is the new token for the digital advertising industry.' 
	* decimals:18 id:\MANA address:\0x0f5d2fb29fb7d3cfee444a200298f468908cc942 name:'Decentraland' link:'https://decentraland.org/' description:'Decentraland is a virtual reality platform powered by the Ethereum blockchain. Users can create, experience, and monetize content and applications' 
	* decimals:18 id:\ICN  address:\0x888666CA69E0f178DED6D75b5726Cee99A87D698 name:'ICONOMI' link:'https://iconomi.net/' description:'ICONOMI Digital Assets Management platform enables simple access to a variety of digital assets and combined Digital Asset Arrays' 
	* decimals:8  id:\FUN  address:\0x419d0d8bdd9af5e606ae2232ed285aff190e711b name:'FunFair' link:'https://www.funfair.io/' description:'FunFair is a decentralised gaming platform powered by Ethereum smart contracts' 
	* decimals:18 id:\ZRX  address:\0xe41d2489571d322189246dafa5ebde1f4699f498 name:'0xProject (ZRX)' link:'https://0xproject.com/' description:'The Protocol for Trading Tokens' 
	
	* decimals:18 id:\SAN  address:\0x7c5a0ce9267ed19b22f8cae653f198e3e8daf098 name:'Santiment (SAN)' link:'https://santiment.net/' description:'A Better Way to Trade Crypto-Markets - Market Datafeeds, Newswires, and Crowd Sentiment Insights for the Blockchain World' 
	* decimals:18 id:\GNO  address:\0x6810e776880c02933d47db1b9fc05908e5386b96 name:'Gnosis (Gno)' link:'https://gnosis.pm/' description:'Crowd Sourced Wisdom - The next generation blockchain network. Speculate on anything with an easy-to-use prediction market' 
	* decimals:8  id:\MCO  address:\0xb63b606ac810a52cca15e44bb630fd42d8d1d83d name:'Monaco' link:'http://www.mona.co/' description:'Monaco is a cryptocurrency card. Spend and send money globally at interbank exchange rates.' 
	* decimals:8  id:\MTL  address:\0xF433089366899D83a9f26A773D59ec7eCF30355e name:'MetalPay' link:'https://www.metalpay.com/' description:'Transfer money instantly around the globe with nothing more than a phone number. Earn rewards every time you spend or make a purchase. Ditch the bank and go digital.' 
	* decimals:8  id:\CVC  address:\0x41e5560054824ea6b0732e656e3ad64e20e94e45 name:'Civic' link:'https://www.civic.com/' description:'Giving businesses and individuals the tools to control and protect identities' 
	
	* decimals:8  id:\STORJ address:\0xb64ef51c888972c908cfacf59b47c1afbc0ab8ac name:'Storj' link:'https://storj.io/' description:'Blockchain-based, end-to-end encrypted, distributed object storage, where only you have access to your data' 
	* decimals:18 id:\BNT  address:\0x1f573d6fb3f13d689ff844b4ce37794d79a7ff1c  name:'Bancor Network' link:'https://bancor.network/' description:'Bancor Protocol is a standard for a new generation of cryptocurrencies called Smart Tokens' 
	* decimals:8  id:\ETHOS address:\0x5af2be193a6abca9c8817001f45744777db30756 name:'Ethos (ETHOS)' link:'https://www.ethos.io/' description:'People-powered cryptocurrency services for the blockchain' 
	* decimals:0  id:\EDG  address:\0x08711d3b02c8758f2fb3ab4e80228418a7f8e39c  name:'Edgeless' link:'https://edgeless.io/' description:'The Ethereum smart contract-based that offers a 0% house edge and solves the transparency question once and for all.' 
	* decimals:0  id:\SNGLS address:\0xaec2e87e0a235266d9c5adc9deb4b2e29b54d009 name:'SNGLS - SingularDTV' link:'https://singulardtv.com/' description:'A Blockchain Entertainment Studio, Smart Contract Rights Management Platform and Video On-Demand Portal' 
	
	* decimals:18 id:\ANT  address:\0x960b236A07cf122663c4303350609A66A7B288C0 name:'Aragon Network' link:'https://aragon.network/' description:'Create and manage unstoppable organizations. Aragon lets you manage entire organizations using the blockchain. This makes Aragon organizations more efficient than their traditional counterparties.' 
	* decimals:18 id:\WINGS address:\0x667088b212ce3d06a1b553a7221E1fD19000d9aF name:'Wings' link:'https://wings.ai/' description:'A decentralized platform to create, join and manage projects' 
	* decimals:9  id:\RLC  address:\0x607F4C5BB672230e8672085532f7e901544a7375 name:'RLC - iEx.ec' link:'http://iex.ec/' description:'Blockchain Based distributed cloud computing' 
	* decimals:4  id:\AST  address:\0x27054b13b1b798b345b591a4d22e6562d47ea75a name:'AirSwap' link:'https://www.airswap.io/' description:'AirSwap is based on the Swap protocol, a peer-to-peer protocol for trading Ethereum tokens' 
	* decimals:18 id:\MLN  address:\0xBEB9eF514a379B997e0798FDcC901Ee474B6D9A1 name:'Melon' link:'https://melonport.com/' description:'The Melon protocol is a blockchain protocol for digital asset management built on the Ethereum platform' 
	
	* decimals:18 id:\CFI  address:\0x12fef5e57bf45873cd9b62e9dbd7bfb99e32d73e name:'Cofound.it (CFI)' link:'https://cofound.it/' description:'Cofound.it is a platform that connects you to teams that have trained to become serious blockchain businesses' 
	* decimals:6  id:\TRST address:\0xcb94be6f13a1182e4a4b6140cb7bf2025d28e41b name:'Trustcoin - WeTrust' link:'https://www.wetrust.io/' description:'A platform for Trusted Lending Circles, powered by people and blockchain' 
	* decimals:18 id:\1ST  address:\0xaf30d2a7e90d7dc361c8c4585e9bb7d2f6f15bc7 name:'FirstBlood' link:'https://firstblood.io/' description:'FirstBlood.io (“FirstBlood”) is a decentralized Esports gaming platform that is powered by the blockchain' 
	* decimals:6  id:\TAAS address:\0xe7775a6e9bcf904eb39da2b68c5efb4f9360e08c name:'Taas Fund' link:'https://taas.fund/' description:'TaaS is a tokenized closed-end fund designed to reduce the risks and technical barriers of investing in the blockchain space.' 
	* decimals:18 id:\DNT  address:\0x0abdace70d3790235af448c88547603b945604ea name:'district0x' link:'https://district0x.io/' description:'A network of decentralized markets and communities. Create, operate, and govern. Powered by Ethereum, Aragon, and IPFS.' 
	
	* decimals:18 id:\NMR  address:\0x1776e1f26f98b1a5df9cd347953a26dd3cb46671 name:'Numeraire' link:'https://numer.ai/' description:'The stock market is inefficient with respect to new developments in machine learning — only a fraction of the world\'s data scientists have access to its data. Numerai is changing this.' 
	* decimals:8  id:\XAUR address:\0x4DF812F6064def1e5e029f1ca858777CC98D2D81 name:'Xaurum' link:'https://www.xaurum.org/' description:'Xaurum is unit of value on the golden blockchain, it represents an increasing amount of gold and can be exchanged for it by melting' 
	* decimals:8  id:\HMQ  address:\0xcbcc0f036ed4788f63fc0fee32873d6a7487b908 name:'Humaniq' link:'https://humaniq.co/' description:'Humaniq aims to be a simple and secure 4th generation mobile bank.' 
	* decimals:8  id:\TKN  address:\0xaaaf91d9b90df800df4f55c205fd6989c977e73a name:'Tokencard - Monolith' link:'https://tokencard.io/#token' description:'The All Powerful Smart Contract Powered Debit Card' 
	* decimals:3  id:\GUP  address:\0xf7b098298f7c69fc14610bf71d5e02c60792894c name:'Matchpool' link:'https://matchpool.co/' description:'Matchpool is a platform that creates human connections' 
	
	* decimals:8  id:\TIME address:\0x6531f133e6deebe7f2dce5a0441aa7ef330b4e53 name:'TIME - ChronoBank' link:'https://chronobank.io/' description:'ChronoBank.io is a wide-ranging blockchain project, aimed at disrupting the HR/recruitment/finance industries' 
	* decimals:9  id:\ADT  address:\0xd0d6d6c5fe4a677d343cc433536bb717bae167dd name:'AdToken' link:'https://adtoken.com/' description:'adChain is a browser agnostic Ethereum based solution for digital advertising that seamlessly integrates with pre-existing RTB and programmatic industry standards.' 
	* decimals:18 id:\SWT  address:\0xb9e7f8568e08d5659f5d29c4997173d84cdf2607 name:'SWT - Swarm City' link:'https://swarm.city/' description:'Swarm City is a decentralized peer to peer sharing economy' 
	* decimals:16 id:\DICE address:\0x2e071D2966Aa7D8dECB1005885bA1977D6038A65 name:'Etheroll' link:'http://etheroll.com/' description:'Provably fair online Ether gaming on the Ethereum Blockchain' 
	* decimals:18 id:\NET  address:\0xcfb98637bcae43C13323EAa1731cED2B716962fD name:'NimiqNetwork' link:'https://nimiq.com/' description:'World\'s first Browser-based Blockchain & Ecosystem' 
	
	* decimals:18 id:\LUN  address:\0xfa05A73FfE78ef8f1a739473e462c54bae6567D9 name:'Lunyr' link:'https://lunyr.com/' description:'Lunyr is an Ethereum-based decentralized world knowledge base which rewards users with app tokens for peer-reviewing and contributing information' 
	* decimals:0  id:\BCAP address:\0xff3519eeeea3e76f1f699ccce5e23ee0bdda41ac name:'Bcap - Blockchain Capital' link:'http://blockchain.capital/' description:'Blockchain Capital is a pioneer and the premier venture capital firm investing in Blockchain enabled technology	' 
	* decimals:18 id:\PLU  address:\0xD8912C10681D8B21Fd3742244f44658dBA12264E name:'Pluton - Plutus.it' link:'https://plutus.it/' description:'With Plutus Tap & Pay, you can pay at any NFC-enabled merchant' 
	* decimals:0  id:\VSL address:\0x5c543e7AE0A1104f78406C340E9C64FD9fCE5170 name:'vSlice'  link:'http://www.vslice.io/' description:'An Ethereum Gaming Platform Token' 

@smart-contract-converter=-> 
	for item in tokens-list!
		if it?toLocaleLowerCase! == item.address?toLocaleLowerCase! => return item.name
	return \–––

@get-contract-id=-> 
	for item in tokens-list! || []
		if it?toLocaleLowerCase! == item.address?toLocaleLowerCase! => return item.id

@get-contract-decimals=-> 
	for item in tokens-list! || []
		if it?toLocaleLowerCase! == item.address?toLocaleLowerCase! => return item.decimals

@get-token-price=(address)->
	id = get-contract-id address
	prices = state.get \prices

	for price in prices || []
		if price.symbol == id => return +price.price_eth

@get-token-price-from-id=(id)->
	prices = state.get \prices

	for price in prices || []
		if price.symbol == id => return +price.price_eth


@is-capital-at-risk=->
	if state.get(\lr)?currency == 0
		wanted = +bigNumToStr(state.get('lr')?WantedWei)
		price = get-token-price state.get(\lr)?TokenSmartcontractAddress
		val = state.get(\lr)?TokenAmount

	if state.get(\lr)?currency == 1
		rate = +state.get('lr')?rate

		wanted = (+lilNum-toStr(state.get('lr')?WantedWei))/(100*rate)
		price = get-token-price state.get(\lr)?TokenSmartcontractAddress
		val = state.get(\lr)?TokenAmount

	console.log \wanted: wanted, \price*val: price*val, '(price * val)/wanted:' (price * val)/wanted

	if (price * val)/wanted < 0.67 => return true
	else return false

